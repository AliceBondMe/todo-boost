"use strict";(self.webpackChunktodo_boost=self.webpackChunktodo_boost||[]).push([[998],{9357:(e,t,n)=>{n.d(t,{H:()=>a});var d=n(3003),o=n(1645),l=n(5475),i=n(6106),s=n(6876),r=n(579);const a=()=>{const{id:e}=(0,d.d4)(o.mB),{isShowModal:t,openModal:n,closeModal:a}=(0,i.G)();return(0,r.jsxs)(r.Fragment,{children:[!e&&(0,r.jsx)(l.N_,{to:"/auth",children:"Please Sign in to create tasks"}),(0,r.jsx)("button",{type:"button",onClick:n,disabled:!e,children:"Add new task"}),t&&(0,r.jsx)(s.X,{closeModal:a})]})}},6876:(e,t,n)=>{n.d(t,{X:()=>M});var d,o,l=n(5043),i=n(7950),s=n(7528),r=n(3200),a=n(197);a.Ay.div(d||(d=(0,s.A)(["\n  width: 90%;\n  max-height: 90vh;\n  border-radius: 20px;\n  overflow-y: scroll;\n  scroll-behavior: smooth;\n  padding: 12px;\n  background-color: #ffffff;\n  animation: "," 700ms ease-in-out;\n"])),r.y);const c=a.Ay.div(o||(o=(0,s.A)(["\n  z-index: 1200;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--backdrop);\n"])));var u=n(3892),x=(n(5015),n(899)),h=n(3003),m=n(1645),p=n(6432),j=n(1899),b=n.n(j),w=n(9597);const y=e=>{if(!e)return"";const t=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getFullYear().toString();return"".concat(t,"/").concat(n,"/").concat(d)},f=e=>{if(""===e||!e)return;const[t,n,d]=e.split("/");return new Date(Number(d),Number(n)-1,Number(t))};var v=n(579);const k=document.querySelector("#modal-root"),g=x.Ik().shape({title:x.Yj().min(3).max(100).required("A Title for new task is required"),deadline:x.p6().required("A deadline is required"),text:x.Yj().max(500)}),M=e=>{let{closeModal:t,isEdit:n=!1,todoId:d,title:o,text:s,deadline:r}=e;const a=(0,h.wA)(),{id:x}=(0,h.d4)(m.mB);(0,l.useEffect)((()=>{const e=e=>{"Escape"===e.code&&t()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[t]);const j={title:n?o:"",text:n?s:"",deadline:n?f(r):void 0};return(0,i.createPortal)((0,v.jsxs)(c,{onClick:e=>{e.target===e.currentTarget&&t()},children:[(0,v.jsx)("button",{type:"button","aria-label":"close modal window",onClick:t,children:"x"}),(0,v.jsx)(u.l1,{initialValues:j,validationSchema:g,onSubmit:async e=>{const o={userId:x,todo:{...e,deadline:y(e.deadline),completed:!1,id:n?d:(0,p.Ak)()}};a(n?(0,w.d0)(o):(0,w.eW)(o)),t()},children:e=>{let{setFieldValue:t,values:d}=e;return(0,v.jsxs)(u.lV,{children:[(0,v.jsx)(u.D0,{type:"text",name:"title",placeholder:"Title",required:!0}),(0,v.jsx)(u.D0,{type:"text",name:"text",placeholder:"Description"}),(0,v.jsx)(b(),{name:"deadline",placeholderText:"Deadline",selected:d.deadline,onChange:e=>t("deadline",e),autoComplete:"off",dateFormat:"dd/MM/yyyy",calendarStartDay:1,required:!0}),(0,v.jsx)("button",{type:"submit",children:n?"Edit task":"Create new task"}),(0,v.jsx)(u.Kw,{name:"title",component:"div"}),(0,v.jsx)(u.Kw,{name:"text",component:"div"}),(0,v.jsx)(u.Kw,{name:"deadline",component:"div"})]})}})]}),k)}},6711:(e,t,n)=>{n.d(t,{t:()=>x});var d=n(5043),o=n(6106),l=n(6876),i=n(652),s=n(3003),r=n(9597),a=n(1645),c=n(579);const u=e=>{let{id:t,title:n,text:u,deadline:x,completed:h}=e;const{isShowModal:m,openModal:p,closeModal:j}=(0,o.G)(),[b,w]=(0,d.useState)(h),{id:y}=(0,s.d4)(a.mB),f=(0,s.wA)();return(0,d.useEffect)((()=>{f((0,r.B5)({todo:{id:t,completed:b},userId:y}))}),[f,b,t,y]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("h6",{children:n}),(0,c.jsx)("p",{children:u}),(0,c.jsx)("p",{children:x}),(0,c.jsx)("p",{children:b?"completed":"active"}),(0,c.jsx)("button",{type:"button","aria-label":"toggle complete task",onClick:()=>{w((e=>!e))},children:b?(0,c.jsx)(i.n4s,{}):(0,c.jsx)(i.ZRN,{})}),(0,c.jsx)("button",{type:"button",onClick:p,children:"Edit task"}),(0,c.jsx)("button",{type:"button",onClick:()=>{f((0,r.Ys)({id:t,userId:y}))},children:"Delete task"})]}),m&&(0,c.jsx)(l.X,{closeModal:j,isEdit:!0,todoId:t,title:n,text:u,deadline:x})]})},x=e=>{let{todos:t}=e;return(0,c.jsx)("ul",{children:t.map((e=>{let{id:t,title:n,text:d,deadline:o,completed:l}=e;return(0,c.jsx)(u,{id:t,title:n,text:d,deadline:o,completed:l},t)}))})}},6106:(e,t,n)=>{n.d(t,{G:()=>o});var d=n(5043);const o=()=>{const[e,t]=(0,d.useState)(!1);return{isShowModal:e,openModal:()=>{t(!0),document.body.style.overflow="hidden"},closeModal:()=>{t(!1),document.body.style.overflow=""}}}},3998:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});n(5015);var d=n(5043),o=n(3003),l=n(1645),i=n(9597),s=n(6711),r=n(9357),a=n(579);const c=()=>{const{id:e}=(0,o.d4)(l.mB),t=(0,o.d4)(l.IU),n=(0,o.wA)();return(0,d.useEffect)((()=>{e&&n((0,i.iu)(e))}),[n,e]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.H,{}),t.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Here are all of your tasks:"}),(0,a.jsx)(s.t,{todos:t})]}):(0,a.jsx)("p",{children:"You have no tasks yet"})]})}}}]);
//# sourceMappingURL=998.6f0ed3a0.chunk.js.map