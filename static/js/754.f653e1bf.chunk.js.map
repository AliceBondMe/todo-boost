{"version":3,"file":"static/js/754.f653e1bf.chunk.js","mappings":"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","sources":["components/Auth/AuthForm.tsx","pages/AuthPage.tsx","pages/Pages.styled.tsx"],"sourcesContent":["import * as yup from \"yup\";\r\nimport { ErrorMessage, Formik, FormikHelpers } from \"formik\";\r\nimport {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n} from \"firebase/auth\";\r\nimport { auth, db } from \"../../firebase\";\r\nimport { FC, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { login } from \"../../redux/slices/authSlice\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\nimport { AppDispatch } from \"../../redux/store\";\r\nimport {\r\n  Button,\r\n  ErrorsBlock,\r\n  FieldStyled,\r\n  FormStyled,\r\n  Header,\r\n} from \"./Auth.styled\";\r\n\r\nexport interface UserAuthData {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst initialValues: UserAuthData = {\r\n  email: \"\",\r\n  password: \"\",\r\n};\r\n\r\nconst validationSchema = yup.object().shape({\r\n  email: yup\r\n    .string()\r\n    .email(\"Please enter valid email\")\r\n    .required(\"An email is required\"),\r\n  password: yup\r\n    .string()\r\n    .min(5, \"Password must contain 5 or more characters\")\r\n    .required(\"A password is required\"),\r\n});\r\n\r\nexport const AuthForm: FC<{ isLogin: boolean }> = ({ isLogin }) => {\r\n  const [isError, setIsError] = useState(false);\r\n  const dispatch: AppDispatch = useDispatch();\r\n\r\n  const handleSubmit = async (\r\n    { email, password }: UserAuthData,\r\n    { resetForm }: FormikHelpers<UserAuthData>\r\n  ) => {\r\n    try {\r\n      const userCredential = isLogin\r\n        ? await signInWithEmailAndPassword(auth, email, password)\r\n        : await createUserWithEmailAndPassword(auth, email, password);\r\n\r\n      const user = userCredential.user;\r\n\r\n      console.log(\"user: \", user);\r\n\r\n      dispatch(\r\n        login({\r\n          email,\r\n          id: user.uid,\r\n          token: user.refreshToken,\r\n        })\r\n      );\r\n\r\n      if (!isLogin) {\r\n        await setDoc(doc(db, \"users\", user.uid), {\r\n          email,\r\n          uid: user.uid,\r\n        });\r\n      }\r\n    } catch {\r\n      setIsError(true);\r\n    }\r\n\r\n    resetForm();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header>{isLogin ? \"Sign in now\" : \"Sign up now\"}</Header>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <FormStyled>\r\n          <FieldStyled type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n          <FieldStyled\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            required\r\n          />\r\n\r\n          <Button type=\"submit\">{isLogin ? \"Log in\" : \"Register\"}</Button>\r\n\r\n          <ErrorsBlock>\r\n            <ErrorMessage name=\"email\" component=\"div\" />\r\n            <ErrorMessage name=\"password\" component=\"div\" />\r\n          </ErrorsBlock>\r\n        </FormStyled>\r\n      </Formik>\r\n\r\n      {isError && (\r\n        <p>Something went wrong with your authentification. Please try again</p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { AuthForm } from \"../components/Auth/AuthForm\";\r\nimport { useState } from \"react\";\r\nimport womanImage from \"../assets/images/woman-paper-calendar.png\";\r\nimport { Container, MessageBlock } from \"./Pages.styled\";\r\n\r\nconst RegisterPage = () => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n\r\n  const toggleAuthType = () => {\r\n    setIsLogin((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <img src={womanImage} alt=\"Woman with schedule\" />\r\n      <div>\r\n        <AuthForm isLogin={isLogin} />\r\n        <MessageBlock>\r\n          <p>{isLogin ? \"Not registered?\" : \"Already have an account?\"}</p>\r\n          <button onClick={toggleAuthType}>\r\n            {isLogin ? \"Sign up\" : \"Sign in\"}\r\n          </button>\r\n        </MessageBlock>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n\r\n  & img {\r\n    height: 75vh;\r\n    width: auto;\r\n  }\r\n`;\r\n\r\nexport const MessageBlock = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  & button {\r\n    color: var(--bg-accent-dark);\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nexport const Header = styled.h2`\r\n  margin-left: 48px;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nexport const HomeTextBlock = styled.div`\r\n  width: 500px;\r\n`;\r\n\r\nexport const HeaderNotFound = styled.h5`\r\n  font-size: 36px;\r\n  width: 400px;\r\n`;\r\n"],"names":["initialValues","email","password","validationSchema","yup","shape","required","min","AuthForm","_ref","isLogin","isError","setIsError","useState","dispatch","useDispatch","_jsxs","_Fragment","children","_jsx","Header","Formik","onSubmit","async","_ref2","_ref3","resetForm","user","signInWithEmailAndPassword","auth","createUserWithEmailAndPassword","console","log","login","id","uid","token","refreshToken","setDoc","doc","db","FormStyled","FieldStyled","type","name","placeholder","Button","ErrorsBlock","ErrorMessage","component","RegisterPage","setIsLogin","Container","src","womanImage","alt","MessageBlock","onClick","toggleAuthType","prev","styled","div","_templateObject","_taggedTemplateLiteral","_templateObject2","h2","_templateObject3","HomeTextBlock","_templateObject4","HeaderNotFound","h5","_templateObject5"],"sourceRoot":""}