{"version":3,"file":"static/js/998.000fe82f.chunk.js","mappings":"qNAgBA,MAAMA,EAA0B,CAC9BC,MAAO,GACPC,KAAM,GACNC,SAAU,IAGNC,EAAmBC,EAAAA,KAAaC,MAAM,CAC1CL,MAAOI,EAAAA,KAEJE,IAAI,GACJC,IAAI,KACJC,SAAS,oCACZN,SAAUE,EAAAA,KAAaI,SAAS,qCAChCP,KAAMG,EAAAA,KAAaG,IAAI,OAqDzB,EAlDyBE,KACvB,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,IAAYC,EAAAA,GAoB3B,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBAEFL,IAAMM,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,QAAOH,SAAC,oCAEzBC,EAAAA,EAAAA,KAACG,EAAAA,GAAM,CACLpB,cAAeA,EACfI,iBAAkBA,EAClBiB,SA3BeC,MACnBC,EAAkBC,KAEd,IADJ,UAAEC,GAAoCD,EAEtC,IACE,MAAME,GAAeC,EAAAA,EAAAA,IAAWC,EAAAA,GAAG,SAADC,OAAWlB,EAAE,iBACzCmB,EAAAA,EAAAA,IAAOJ,EAAc,IACtBH,EACHQ,WAAW,EACXpB,IAAIqB,EAAAA,EAAAA,OAER,CAAE,MAAOC,GACPC,QAAQC,IAAIF,EACd,CAEAR,GAAW,EAYgBT,UAEvBF,EAAAA,EAAAA,MAACsB,EAAAA,GAAI,CAAApB,SAAA,EACHC,EAAAA,EAAAA,KAACoB,EAAAA,GAAK,CAACC,KAAK,OAAOC,KAAK,QAAQC,YAAY,QAAQ/B,UAAQ,KAC5DQ,EAAAA,EAAAA,KAACoB,EAAAA,GAAK,CAACC,KAAK,OAAOC,KAAK,OAAOC,YAAY,iBAC3CvB,EAAAA,EAAAA,KAACoB,EAAAA,GAAK,CAACC,KAAK,OAAOC,KAAK,WAAWC,YAAY,WAAW/B,UAAQ,KAElEQ,EAAAA,EAAAA,KAAA,UAAQqB,KAAK,SAASG,UAAW9B,EAAGK,SAAC,qBAIrCC,EAAAA,EAAAA,KAACyB,EAAAA,GAAY,CAACH,KAAK,QAAQI,UAAU,SACrC1B,EAAAA,EAAAA,KAACyB,EAAAA,GAAY,CAACH,KAAK,OAAOI,UAAU,SACpC1B,EAAAA,EAAAA,KAACyB,EAAAA,GAAY,CAACH,KAAK,WAAWI,UAAU,eAG3C,C","sources":["pages/AllTodosPage.tsx"],"sourcesContent":["import { ErrorMessage, Field, Form, Formik, FormikHelpers } from \"formik\";\r\nimport { FC } from \"react\";\r\nimport * as yup from \"yup\";\r\nimport { db } from \"../firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../redux/selectors\";\r\nimport { addDoc, collection } from \"firebase/firestore\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { nanoid } from \"@reduxjs/toolkit\";\r\n\r\nexport interface TodoData {\r\n  title: string;\r\n  text: string;\r\n  deadline: string;\r\n}\r\n\r\nconst initialValues: TodoData = {\r\n  title: \"\",\r\n  text: \"\",\r\n  deadline: \"\",\r\n};\r\n\r\nconst validationSchema = yup.object().shape({\r\n  title: yup\r\n    .string()\r\n    .min(3)\r\n    .max(100)\r\n    .required(\"A Title for new task is required\"),\r\n  deadline: yup.string().required(\"Deadline for new task is required\"),\r\n  text: yup.string().max(500),\r\n});\r\n\r\nconst AllTodosPage: FC = () => {\r\n  const { id } = useSelector(selectUser);\r\n\r\n  const handleSubmit = async (\r\n    todoData: TodoData,\r\n    { resetForm }: FormikHelpers<TodoData>\r\n  ) => {\r\n    try {\r\n      const userTodosRef = collection(db, `users/${id}/todos`);\r\n      await addDoc(userTodosRef, {\r\n        ...todoData,\r\n        completed: false,\r\n        id: nanoid(),\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    resetForm();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>AllTodosPage</h2>\r\n\r\n      {!id && <Link to=\"/auth\">Please Sign in to create tasks</Link>}\r\n\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <Form>\r\n          <Field type=\"text\" name=\"title\" placeholder=\"Title\" required />\r\n          <Field type=\"text\" name=\"text\" placeholder=\"Description\" />\r\n          <Field type=\"text\" name=\"deadline\" placeholder=\"Deadline\" required />\r\n\r\n          <button type=\"submit\" disabled={!id}>\r\n            Create new task\r\n          </button>\r\n\r\n          <ErrorMessage name=\"title\" component=\"div\" />\r\n          <ErrorMessage name=\"text\" component=\"div\" />\r\n          <ErrorMessage name=\"deadline\" component=\"div\" />\r\n        </Form>\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllTodosPage;\r\n"],"names":["initialValues","title","text","deadline","validationSchema","yup","shape","min","max","required","AllTodosPage","id","useSelector","selectUser","_jsxs","_Fragment","children","_jsx","Link","to","Formik","onSubmit","async","todoData","_ref","resetForm","userTodosRef","collection","db","concat","addDoc","completed","nanoid","error","console","log","Form","Field","type","name","placeholder","disabled","ErrorMessage","component"],"sourceRoot":""}