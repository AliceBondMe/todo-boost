"use strict";(self.webpackChunktodo_boost=self.webpackChunktodo_boost||[]).push([[697],{6876:(e,t,n)=>{n.d(t,{X:()=>S});var d,o,l=n(5043),i=n(7950),r=n(7528),a=n(3200),s=n(197);s.Ay.div(d||(d=(0,r.A)(["\n  width: 90%;\n  max-height: 90vh;\n  border-radius: 20px;\n  overflow-y: scroll;\n  scroll-behavior: smooth;\n  padding: 12px;\n  background-color: #ffffff;\n  animation: "," 700ms ease-in-out;\n"])),a.y);const c=s.Ay.div(o||(o=(0,r.A)(["\n  z-index: 1200;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--backdrop);\n"])));var u=n(3892),x=(n(5015),n(899)),p=n(3003),h=n(1645),m=n(6432),j=n(1899),y=n.n(j),b=n(9597);const v=e=>{if(!e)return"";const t=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getFullYear().toString();return"".concat(t,"/").concat(n,"/").concat(d)},f=e=>{if(""===e||!e)return;const[t,n,d]=e.split("/");return new Date(Number(d),Number(n)-1,Number(t))};var w=n(579);const k=document.querySelector("#modal-root"),g=x.Ik().shape({title:x.Yj().min(3).max(100).required("A Title for new task is required"),deadline:x.p6().required("A deadline is required"),text:x.Yj().max(500)}),S=e=>{let{closeModal:t,isEdit:n=!1,todoId:d,title:o,text:r,deadline:a}=e;const s=(0,p.wA)(),{id:x}=(0,p.d4)(h.mB);(0,l.useEffect)((()=>{const e=e=>{"Escape"===e.code&&t()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[t]);const j={title:n?o:"",text:n?r:"",deadline:n?f(a):void 0};return(0,i.createPortal)((0,w.jsxs)(c,{onClick:e=>{e.target===e.currentTarget&&t()},children:[(0,w.jsx)("button",{type:"button","aria-label":"close modal window",onClick:t,children:"x"}),(0,w.jsx)(u.l1,{initialValues:j,validationSchema:g,onSubmit:async e=>{const o={userId:x,todo:{...e,deadline:v(e.deadline),completed:!1,id:n?d:(0,m.Ak)()}};s(n?(0,b.d0)(o):(0,b.eW)(o)),t()},children:e=>{let{setFieldValue:t,values:d}=e;return(0,w.jsxs)(u.lV,{children:[(0,w.jsx)(u.D0,{type:"text",name:"title",placeholder:"Title",required:!0}),(0,w.jsx)(u.D0,{type:"text",name:"text",placeholder:"Description"}),(0,w.jsx)(y(),{name:"deadline",placeholderText:"Deadline",selected:d.deadline,onChange:e=>t("deadline",e),autoComplete:"off",dateFormat:"dd/MM/yyyy",calendarStartDay:1,required:!0}),(0,w.jsx)("button",{type:"submit",children:n?"Edit task":"Create new task"}),(0,w.jsx)(u.Kw,{name:"title",component:"div"}),(0,w.jsx)(u.Kw,{name:"text",component:"div"}),(0,w.jsx)(u.Kw,{name:"deadline",component:"div"})]})}})]}),k)}},6711:(e,t,n)=>{n.d(t,{t:()=>x});var d=n(5043),o=n(6106),l=n(6876),i=n(652),r=n(3003),a=n(9597),s=n(1645),c=n(579);const u=e=>{let{id:t,title:n,text:u,deadline:x,completed:p}=e;const{isShowModal:h,openModal:m,closeModal:j}=(0,o.G)(),[y,b]=(0,d.useState)(p),{id:v}=(0,r.d4)(s.mB),f=(0,r.wA)();return(0,d.useEffect)((()=>{f((0,a.B5)({todo:{id:t,completed:y},userId:v}))}),[f,y,t,v]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("h6",{children:n}),(0,c.jsx)("p",{children:u}),(0,c.jsx)("p",{children:x}),(0,c.jsx)("p",{children:y?"completed":"active"}),(0,c.jsx)("button",{type:"button","aria-label":"toggle complete task",onClick:()=>{b((e=>!e))},children:y?(0,c.jsx)(i.n4s,{}):(0,c.jsx)(i.ZRN,{})}),(0,c.jsx)("button",{type:"button",onClick:m,children:"Edit task"}),(0,c.jsx)("button",{type:"button",onClick:()=>{f((0,a.Ys)({id:t,userId:v}))},children:"Delete task"})]}),h&&(0,c.jsx)(l.X,{closeModal:j,isEdit:!0,todoId:t,title:n,text:u,deadline:x})]})},x=e=>{let{todos:t}=e;return(0,c.jsx)("ul",{children:t.map((e=>{let{id:t,title:n,text:d,deadline:o,completed:l}=e;return(0,c.jsx)(u,{id:t,title:n,text:d,deadline:o,completed:l},t)}))})}},6106:(e,t,n)=>{n.d(t,{G:()=>o});var d=n(5043);const o=()=>{const[e,t]=(0,d.useState)(!1);return{isShowModal:e,openModal:()=>{t(!0),document.body.style.overflow="hidden"},closeModal:()=>{t(!1),document.body.style.overflow=""}}}},1697:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var d=n(3003),o=n(1645),l=n(6711),i=n(579);const r=()=>{const e=(0,d.d4)(o.Rj);return(0,i.jsx)(i.Fragment,{children:e.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"Here are all of your completed tasks:"}),(0,i.jsx)(l.t,{todos:e})]}):(0,i.jsx)("p",{children:"You have no completed tasks yet"})})}}}]);
//# sourceMappingURL=697.a6a658f6.chunk.js.map