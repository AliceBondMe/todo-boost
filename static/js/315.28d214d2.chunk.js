"use strict";(self.webpackChunktodo_boost=self.webpackChunktodo_boost||[]).push([[315],{6315:(e,i,s)=>{s.r(i),s.d(i,{default:()=>w});var a=s(899),n=s(3892),r=s(3280),t=s(4015),o=s(5043),d=s(3003),l=s(5163),c=s(6032),u=s(579);const m={email:"",password:""},h=a.Ik().shape({email:a.Yj().email("Please enter valid email").required("An email is required"),password:a.Yj().min(5,"Password must contain 5 or more characters").required("A password is required")}),p=e=>{let{isLogin:i}=e;const[s,a]=(0,o.useState)(!1),p=(0,d.wA)();return(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:i?"Sign in now":"Sign up now"}),(0,u.jsx)(n.l1,{initialValues:m,validationSchema:h,onSubmit:async(e,s)=>{let{email:n,password:o}=e,{resetForm:d}=s;try{const e=(i?await(0,r.x9)(t.j,n,o):await(0,r.eJ)(t.j,n,o)).user;console.log("user: ",e),p((0,l.iD)({email:n,id:e.uid,token:e.refreshToken})),i||await(0,c.BN)((0,c.H9)(t.db,"users",e.uid),{email:n,uid:e.uid})}catch{a(!0)}d()},children:(0,u.jsxs)(n.lV,{children:[(0,u.jsx)(n.D0,{type:"email",name:"email",placeholder:"Email",required:!0}),(0,u.jsx)(n.D0,{type:"password",name:"password",placeholder:"Password",required:!0}),(0,u.jsx)("button",{type:"submit",children:i?"Log in":"Register"}),(0,u.jsx)(n.Kw,{name:"email",component:"div"}),(0,u.jsx)(n.Kw,{name:"password",component:"div"})]})}),s&&(0,u.jsx)("p",{children:"Something went wrong with your authentification. Please try again"})]})},w=()=>{const[e,i]=(0,o.useState)(!0);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(p,{isLogin:e}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:e?"Not registered?":"Already have an account?"}),(0,u.jsx)("button",{onClick:()=>{i((e=>!e))},children:e?"Sign up":"Sign in"})]})]})}}}]);
//# sourceMappingURL=315.28d214d2.chunk.js.map