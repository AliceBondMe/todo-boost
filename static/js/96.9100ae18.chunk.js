"use strict";(self.webpackChunktodo_boost=self.webpackChunktodo_boost||[]).push([[96],{9357:(e,t,n)=>{n.d(t,{H:()=>r});var d=n(3003),o=n(1645),l=n(5475),i=n(6106),a=n(6876),s=n(579);const r=()=>{const{id:e}=(0,d.d4)(o.mB),{isShowModal:t,openModal:n,closeModal:r}=(0,i.G)();return(0,s.jsxs)(s.Fragment,{children:[!e&&(0,s.jsx)(l.N_,{to:"/auth",children:"Please Sign in to create tasks"}),(0,s.jsx)("button",{type:"button",onClick:n,disabled:!e,children:"Add new task"}),t&&(0,s.jsx)(a.X,{closeModal:r})]})}},6876:(e,t,n)=>{n.d(t,{X:()=>M});var d,o,l=n(5043),i=n(7950),a=n(7528),s=n(3200),r=n(197);r.Ay.div(d||(d=(0,a.A)(["\n  width: 90%;\n  max-height: 90vh;\n  border-radius: 20px;\n  overflow-y: scroll;\n  scroll-behavior: smooth;\n  padding: 12px;\n  background-color: #ffffff;\n  animation: "," 700ms ease-in-out;\n"])),s.y);const c=r.Ay.div(o||(o=(0,a.A)(["\n  z-index: 1200;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--backdrop);\n"])));var u=n(3892),x=(n(5015),n(899)),h=n(3003),p=n(1645),m=n(6432),j=n(1899),b=n.n(j),v=n(9597);const y=e=>{if(!e)return"";const t=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getFullYear().toString();return"".concat(t,"/").concat(n,"/").concat(d)},w=e=>{if(""===e||!e)return;const[t,n,d]=e.split("/");return new Date(Number(d),Number(n)-1,Number(t))};var k=n(579);const f=document.querySelector("#modal-root"),g=x.Ik().shape({title:x.Yj().min(3).max(100).required("A Title for new task is required"),deadline:x.p6().required("A deadline is required"),text:x.Yj().max(500)}),M=e=>{let{closeModal:t,isEdit:n=!1,todoId:d,title:o,text:a,deadline:s}=e;const r=(0,h.wA)(),{id:x}=(0,h.d4)(p.mB);(0,l.useEffect)((()=>{const e=e=>{"Escape"===e.code&&t()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[t]);const j={title:n?o:"",text:n?a:"",deadline:n?w(s):void 0};return(0,i.createPortal)((0,k.jsxs)(c,{onClick:e=>{e.target===e.currentTarget&&t()},children:[(0,k.jsx)("button",{type:"button","aria-label":"close modal window",onClick:t,children:"x"}),(0,k.jsx)(u.l1,{initialValues:j,validationSchema:g,onSubmit:async e=>{const o={userId:x,todo:{...e,deadline:y(e.deadline),completed:!1,id:n?d:(0,m.Ak)()}};r(n?(0,v.d0)(o):(0,v.eW)(o)),t()},children:e=>{let{setFieldValue:t,values:d}=e;return(0,k.jsxs)(u.lV,{children:[(0,k.jsx)(u.D0,{type:"text",name:"title",placeholder:"Title",required:!0}),(0,k.jsx)(u.D0,{type:"text",name:"text",placeholder:"Description"}),(0,k.jsx)(b(),{name:"deadline",placeholderText:"Deadline",selected:d.deadline,onChange:e=>t("deadline",e),autoComplete:"off",dateFormat:"dd/MM/yyyy",calendarStartDay:1,required:!0}),(0,k.jsx)("button",{type:"submit",children:n?"Edit task":"Create new task"}),(0,k.jsx)(u.Kw,{name:"title",component:"div"}),(0,k.jsx)(u.Kw,{name:"text",component:"div"}),(0,k.jsx)(u.Kw,{name:"deadline",component:"div"})]})}})]}),f)}},6711:(e,t,n)=>{n.d(t,{t:()=>x});var d=n(5043),o=n(6106),l=n(6876),i=n(652),a=n(3003),s=n(9597),r=n(1645),c=n(579);const u=e=>{let{id:t,title:n,text:u,deadline:x,completed:h}=e;const{isShowModal:p,openModal:m,closeModal:j}=(0,o.G)(),[b,v]=(0,d.useState)(h),{id:y}=(0,a.d4)(r.mB),w=(0,a.wA)();return(0,d.useEffect)((()=>{w((0,s.B5)({todo:{id:t,completed:b},userId:y}))}),[w,b,t,y]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("h6",{children:n}),(0,c.jsx)("p",{children:u}),(0,c.jsx)("p",{children:x}),(0,c.jsx)("p",{children:b?"completed":"active"}),(0,c.jsx)("button",{type:"button","aria-label":"toggle complete task",onClick:()=>{v((e=>!e))},children:b?(0,c.jsx)(i.n4s,{}):(0,c.jsx)(i.ZRN,{})}),(0,c.jsx)("button",{type:"button",onClick:m,children:"Edit task"}),(0,c.jsx)("button",{type:"button",onClick:()=>{w((0,s.Ys)({id:t,userId:y}))},children:"Delete task"})]}),p&&(0,c.jsx)(l.X,{closeModal:j,isEdit:!0,todoId:t,title:n,text:u,deadline:x})]})},x=e=>{let{todos:t}=e;return(0,c.jsx)("ul",{children:t.map((e=>{let{id:t,title:n,text:d,deadline:o,completed:l}=e;return(0,c.jsx)(u,{id:t,title:n,text:d,deadline:o,completed:l},t)}))})}},6106:(e,t,n)=>{n.d(t,{G:()=>o});var d=n(5043);const o=()=>{const[e,t]=(0,d.useState)(!1);return{isShowModal:e,openModal:()=>{t(!0),document.body.style.overflow="hidden"},closeModal:()=>{t(!1),document.body.style.overflow=""}}}},8096:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var d=n(3003),o=n(1645),l=n(9357),i=n(6711),a=n(579);const s=()=>{const e=(0,d.d4)(o.cR);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.H,{}),e.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Here are all of your active tasks:"}),(0,a.jsx)(i.t,{todos:e})]}):(0,a.jsx)("p",{children:"You have no active tasks yet"})]})}}}]);
//# sourceMappingURL=96.9100ae18.chunk.js.map